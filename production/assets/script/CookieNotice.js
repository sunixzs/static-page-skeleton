!function(n,a){"use strict";function t(t){if(this.settings={storageName:"CookieNotice",storageLifetime:null,uriStyles:"Plugins/CookieNotice/styles.css",uriContent:"Plugins/CookieNotice/Content.html",buttonQuerySelector:"#cookie-notice-confirmed",container:a.createElement("DIV"),onContentLoaded:function(t){},onButtonClicked:function(t){t.removeContainer()}},"object"==typeof t)for(var e in t)t.hasOwnProperty(e)&&void 0!==this.settings[e]&&(this.settings[e]=t[e]);this.hasStorage="localStorage"in n&&n.localStorage,this.setConfirmed=function(){var e=!this.hasStorage;if(!e)try{localStorage.setItem(this.settings.storageName,(new Date).getTime())}catch(t){e=!0}e&&(a.cookie=this.settings.storageName+"="+(new Date).getTime()+"; expires=Thu, 31 Dec 2099 23:59:59 UTC; path=/")},this.isConfirmed=function(){var t=0,e=!this.hasStorage;if(!e)try{if(!(t=parseInt(localStorage.getItem(this.settings.storageName))))return!1}catch(t){e=!0}if(e){for(var n=this.settings.storageName+"=",i=a.cookie.split(";"),s=0;s<i.length;s++){for(var o=i[s];" "===o.charAt(0);)o=o.substring(1,o.length);0===o.indexOf(n)&&(t=parseInt(o.substring(n.length,o.length)))}if(!t)return!1}if(this.settings.storageLifetime){var r=new Date;return r.setTime(t-1e3*this.settings.storageLifetime),t>r.getTime()}return!0},this.removeContainer=function(){this.settings.container&&this.settings.container.parentNode.removeChild(this.settings.container)},this.loadStyles=function(){if(this.settings.uriStyles){var t=a.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("type","text/css"),t.setAttribute("href",this.settings.uriStyles),a.querySelector("head").appendChild(t)}},this.loadContent=function(){var i=this,s=new XMLHttpRequest;s.open("GET",this.settings.uriContent),s.addEventListener("load",function(t){if(200<=s.status&&s.status<300){"function"==typeof i.settings.onContentLoaded&&i.settings.onContentLoaded(i),i.settings.container.innerHTML+=s.responseText;var e=a.querySelectorAll(i.settings.buttonQuerySelector);if(e.length)for(var n=0;n<e.length;n++)e[n].addEventListener("click",function(){i.setConfirmed(),"function"==typeof i.settings.onButtonClicked?i.settings.onButtonClicked(i):i.removeContainer()},!1)}else console.warn(s.statusText,s.responseText)}),s.send()},this.isConfirmed()||(this.loadStyles(),this.loadContent())}"function"==typeof define&&define.amd?define(function(){return t}):n.CookieNotice=t}(window,document);